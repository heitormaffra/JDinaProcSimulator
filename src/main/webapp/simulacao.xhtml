<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <link type="text/css" rel="stylesheet" href="css/default.css"/>
        <title>Realizar Simulação </title>
    </h:head>
    <h:body>
        <h:form id="frmTbl">
            <div style="margin-top: 10px; margin-left: 10px;">
            <h:outputText value="Realize uma simulação, com valores default" style="margin-right: 10px; " />

            <p:commandButton action="#{indexBean.realizaSimulacao()}"
                             value="Simular"
                             update=":frmTbl"/>
            </div>

<!--            <p:dataTable var="values" value="#{indexBean.data}">
                <c:forEach var="column" items="#{indexBean.data.watchedNames}">
                    <p:column headerText="#{column}">
                        
                    </p:column>
                </c:forEach>
            </p:dataTable>-->

            <p:dataTable id="valores" 
                         var="values" 
                         value="#{indexBean.columns[0].property}" 
                         rowIndexVar="rowIndex"
                         style="width: 90%; margin-left: 5%; margin-top: 5px;">                      
                <p:columns value="#{indexBean.columns}" var="column" columnIndexVar="colIndex">
                    <f:facet name="header">  
                        #{column.header}  
                    </f:facet>
                        #{column.property.get(rowIndex)}
                </p:columns>  
                
            </p:dataTable>
            <p:lineChart id="linear" value="#{indexBean.linearModel}"
                         legendPosition="e"  
                         title="Gráfico da Simulação"
                         style="height:300px; width: 90%; margin-top: 30px; margin-left: 5%"
                         rendered="#{indexBean.linearModel != null}"/>
        </h:form>
        <a href="#{request.contextPath}/../dinaProcSimulator/index.jsf">Voltar</a>
    </h:body>
</html>

